<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AR Navigation Simulator</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles for the AR look and feel */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a1a1a;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 1rem;
        }

        /* The main phone screen area */
        #ar-screen {
            aspect-ratio: 16 / 9; /* Typical phone landscape ratio */
            width: 100%;
            max-width: 800px; /* Max width for desktop viewing */
            overflow: hidden;
            position: relative;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            border: 10px solid #000;
            border-radius: 20px;
        }

        /* Simulated Road/Camera Feed Background */
        #camera-feed {
            /* Using a publicly available high-quality image URL to simulate the drive view */
            background-image: url('https://images.unsplash.com/photo-1579294503254-44cc6e927c94?ixlib=rb-4.0.3&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=800&h=450&fit=crop&');
            background-size: cover;
            background-position: center bottom;
            width: 100%;
            height: 100%;
            filter: brightness(0.9); /* Slightly darker for better UI contrast */
        }
        
        /* Animation for the central AR arrow */
        @keyframes pulse-move {
            0% { transform: translateY(0) scale(1.0); opacity: 0.8; }
            50% { transform: translateY(-5px) scale(1.05); opacity: 1; }
            100% { transform: translateY(0) scale(1.0); opacity: 0.8; }
        }

        .ar-arrow-center {
            animation: pulse-move 1.5s infinite ease-in-out;
            transition: all 0.3s ease;
        }

        /* Mini Compass styling */
        .compass-ring {
            stroke-dasharray: 251.327; /* Circumference of circle with r=40 (2*pi*40) */
            stroke-dashoffset: 0;
            transition: stroke-dashoffset 0.5s ease-out;
        }
    </style>
</head>
<body class="bg-gray-900 text-white">

    <div id="ar-screen">
        <!-- 1. Simulated Camera Feed (Background) -->
        <div id="camera-feed" class="w-full h-full absolute top-0 left-0"></div>

        <!-- 2. AR Overlays Container -->
        <div class="absolute inset-0 p-4 flex flex-col justify-between">

            <!-- TOP LEFT: ETA/Timer Info -->
            <div id="eta-box" class="flex items-center space-x-2 bg-black/50 backdrop-blur-md p-2 rounded-xl border border-green-500/30">
                <!-- Menu Icon (Placeholder for the 3 horizontal lines) -->
                <svg class="w-8 h-8 text-white/90" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
                <div class="text-xs">
                    <div id="eta-time" class="text-lg font-bold">ETA 5:02 PM</div>
                    <div id="eta-duration" class="text-green-400 font-semibold -mt-1">27 min</div>
                </div>
            </div>

            <!-- CENTER: Dynamic AR Arrow -->
            <div class="flex-grow flex justify-center items-center pointer-events-none -mt-4">
                <div id="ar-center-instruction" class="ar-arrow-center flex flex-col items-center">
                    <!-- Central Arrow (SVG) -->
                    <svg class="w-20 h-20 text-green-400 drop-shadow-lg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <!-- Up/Right Arrow -->
                        <path id="ar-arrow-path" d="M12 19V5M12 5L7 10M12 5L17 10" /> 
                    </svg>
                    <div id="distance-to-turn" class="text-lg font-bold text-white/90 bg-black/50 rounded-full px-3 py-1 mt-1">100 ft</div>
                </div>
            </div>

            <!-- MIDDLE RIGHT: Turn Instruction -->
            <div id="turn-instruction-box" class="absolute top-1/4 right-4 bg-black/50 backdrop-blur-md p-4 rounded-xl border border-green-500/30">
                <div class="flex items-center space-x-2">
                    <!-- Turn Icon (SVG: Right/Diagonal Arrow) -->
                    <svg class="w-10 h-10 text-green-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M17 16l-4-4m0 0L9 8m4 4h9m-9 0V3" transform="rotate(-45 12 12)"/>
                    </svg>
                    <div>
                        <div id="turn-distance-text" class="text-sm text-gray-300">Exit right towards</div>
                        <div id="main-street-text" class="text-2xl font-extrabold">Main St</div>
                    </div>
                </div>
            </div>

            <!-- BOTTOM RIGHT: Compass/Mini-Map -->
            <div id="compass-map" class="absolute bottom-4 right-4 w-28 h-28">
                <!-- SVG for Compass Circle and Pointer -->
                <svg class="w-full h-full" viewBox="0 0 100 100">
                    <!-- Compass Outer Ring -->
                    <circle cx="50" cy="50" r="40" fill="rgba(0,0,0,0.6)" stroke="#10B981" stroke-width="2"/>
                    <!-- Compass Marker (North) -->
                    <text x="50" y="15" text-anchor="middle" fill="#10B981" font-size="10" font-weight="bold">N</text>
                    <!-- Compass Dial (will be rotated by JS) -->
                    <g id="compass-dial" transform="rotate(0 50 50)">
                        <!-- Direction Marker (Red Triangle) -->
                        <polygon points="50,15 55,25 45,25" fill="#EF4444"/>
                        <!-- Center Dot -->
                        <circle cx="50" cy="50" r="5" fill="#10B981"/>
                    </g>
                </svg>
            </div>
            
            <!-- BOTTOM LEFT: Speed/Time -->
            <div id="speed-time" class="flex items-center space-x-2 absolute bottom-4 left-4 bg-black/50 backdrop-blur-md p-2 rounded-xl border border-white/30">
                <svg class="w-6 h-6 text-red-500" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8zm-.5-13H13v6l5.248 3.149-.748 1.252L11.5 13V7z"/>
                </svg>
                <div class="text-xl font-bold">4:35 PM</div>
            </div>

        </div>
    </div>

    <script>
        // --- JAVASCRIPT SIMULATION LOGIC ---

        const etaTime = document.getElementById('eta-time');
        const etaDuration = document.getElementById('eta-duration');
        const turnDistanceText = document.getElementById('turn-distance-text');
        const mainStreetText = document.getElementById('main-street-text');
        const arCenterInstruction = document.getElementById('ar-center-instruction');
        const arArrowPath = document.getElementById('ar-arrow-path');
        const distanceToTurn = document.getElementById('distance-to-turn');
        const compassDial = document.getElementById('compass-dial');
        
        // Navigation steps to simulate (Distance, Street, Direction)
        const navigationSteps = [
            { street: "Main St", distance: "150 ft", instruction: "Exit right towards", compassAngle: 45, arrowPath: "M12 19V5M12 5L7 10M12 5L17 10", arrowTransform: "rotate(45)" }, // Up/Right
            { street: "Oak Ave", distance: "2 miles", instruction: "Continue straight on", compassAngle: 0, arrowPath: "M12 20V4M8 8L12 4L16 8", arrowTransform: "rotate(0)" }, // Straight
            { street: "Elm Blvd", distance: "500 ft", instruction: "Turn left onto", compassAngle: 270, arrowPath: "M12 19V5M7 12H17M12 5L7 10M12 5L17 10", arrowTransform: "rotate(-90)" }, // Left
            { street: "Destination", distance: "100 ft", instruction: "You have arrived at", compassAngle: 180, arrowPath: "M12 20L12 4M8 8L12 4L16 8M12 20C12 20 8 16 8 13C8 10.79 9.79 9 12 9C14.21 9 16 10.79 16 13C16 16 12 20 12 20Z", arrowTransform: "rotate(0)" } // Destination Pin (using a simple path for a pin)
        ];

        let stepIndex = 0;
        
        /**
         * Function to update all UI elements based on the current navigation step.
         */
        function updateNavigationUI() {
            const step = navigationSteps[stepIndex];
            
            // Update Top Right Instruction Box
            turnDistanceText.textContent = step.instruction;
            mainStreetText.textContent = step.street;
            
            // Update Center AR Arrow
            arCenterInstruction.style.transform = step.arrowTransform;
            arArrowPath.setAttribute('d', step.arrowPath);
            distanceToTurn.textContent = step.distance;

            // Update Compass (Simulating device orientation/direction)
            compassDial.setAttribute('transform', `rotate(${step.compassAngle} 50 50)`);

            // Update ETA
            const minutesLeft = 27 - (stepIndex * 5); // Simple subtraction
            etaDuration.textContent = `${minutesLeft} min`;
            
            // If we are at the last step (Destination), disable the pulsing animation
            if (stepIndex === navigationSteps.length - 1) {
                 arCenterInstruction.classList.remove('ar-arrow-center');
                 // Change color for arrival
                 arCenterInstruction.querySelector('svg').classList.remove('text-green-400');
                 arCenterInstruction.querySelector('svg').classList.add('text-red-500');

                 mainStreetText.classList.remove('text-green-400');
                 mainStreetText.classList.add('text-red-500');
            } else {
                 arCenterInstruction.classList.add('ar-arrow-center');
                 arCenterInstruction.querySelector('svg').classList.add('text-green-400');
                 arCenterInstruction.querySelector('svg').classList.remove('text-red-500');
            }

            console.log(`Updated to step: ${step.street}`);
        }

        /**
         * Advance to the next step when the screen is tapped (simulating a completed turn).
         */
        function advanceStep() {
            // Cycle through the steps
            stepIndex = (stepIndex + 1) % navigationSteps.length; 
            updateNavigationUI();
        }

        /**
         * Initial setup and event listeners.
         */
        function initApp() {
            // Set initial time (Bottom Left)
            const now = new Date();
            document.getElementById('speed-time').querySelector('div').textContent = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });

            // Attach event listener to the entire AR screen area
            document.getElementById('ar-screen').addEventListener('click', advanceStep);

            // Set initial state
            updateNavigationUI();
        }

        window.onload = initApp;

    </script>
</body>
</html>